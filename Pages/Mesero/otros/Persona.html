<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel del Mesero - Persona</title>
  <link rel="stylesheet" href="Css/estilos.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous" />
</head>
<style>
  .contenedor-Cuidado {
    background-color: #f0f8ff;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    width: 100%;
    color: black;
  }

  .botones-cuidado {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    /* espacio entre botones */
  }

  .btn-cuidado {
    background-color: #4d94ff;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    height: 50px;

    /* Ocupa la mitad del contenedor menos espacio del gap */
    flex: 0 0 calc(50% - 10px);

    display: flex;
    align-items: center;
    justify-content: center;

    margin: 0;
    /* elimina margenes para que gap controle el espacio */
  }


  .contenedor-Emergencia {
    background-color: #ffe6e6;
    padding: 20px;
    border-radius: 10px;
    width: 100%;
    margin-bottom: 10px;
    color: black;
  }

  .botones-emergencia {
    display: flex;
    flex-wrap: wrap;
    /* Permite que los botones bajen de fila */
    gap: 10px;
    /* Espacio entre botones */
    justify-content: center;
    /* Centra los botones horizontalmente */
  }

  .btn-emergencia {
    flex: 0 0 calc(50% - 10px);
    /* Cada botón ocupa la mitad menos espacio */
    background-color: #ff4d4d;
    color: rgb(0, 0, 0);
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 10px;
    width: 350px;
    height: 50px;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  .btn-ancho-completo {
    flex: 0 0 100%;
    color: #ffffff;
  }

  /*Boton para cerrar sesion*/
  .cerrar-sesion {
    background-color: #4E5D83;
    border: black;
    border-radius: 4px;
    font-size: 1rem;
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    height: 30px;
  }

  /* Notificacion */
  .cuadro-notificaciones {
    position: absolute;
    top: 60px;
    left: 10px;
    width: 350px;
    max-height: 300px;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    overflow-y: auto;
    z-index: 1000;
    display: none;
    flex-direction: column;
  }

  .encabezado-notificaciones {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f5f5f5;
    padding: 10px;
    font-weight: bold;
    border-bottom: 1px solid #ccc;
    color: #333;
  }

  .encabezado-notificaciones button {
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    font-size: 0.9rem;
  }

  .lista-notificaciones {
    padding: 10px;
  }

  .notificacion {
    padding: 8px;
    font-size: 0.85rem;
    display: flex;
    gap: 8px;
    align-items: flex-start;
    color: #333;
  }

  .notificacion.alta {
    border-left: 4px solid red;
    background-color: #ffe6e6;
  }

  .notificacion.media {
    border-left: 4px solid orange;
    background-color: #fff3e0;
  }

  .notificacion.baja {
    border-left: 4px solid green;
    background-color: #e8f5e9;
  }

  hr {
    margin: 8px 0;
    border: none;
    border-top: 1px solid #ccc;
  }

  .notificacion.no-leida {
    font-weight: bold;
    opacity: 1;
  }

  .notificacion.leida {
    font-weight: normal;
    opacity: 1;
  }


  .texto-notificacion {
    margin-left: 5px;
    display: none;
    /* oculto por defecto */
  }
</style>


<body>

  <!-- ENCABEZADO -->
  <header>
    <!-- Botón de notificaciones -->
    <button class="notificaciones">
      <i class="fa-solid fa-bell"></i>
      <span class="texto-notificacion">Notificaciones Pendientes</span>
    </button>
    <!-- Icono de usuario -->
    <div class="usuario">
      <i class="fa-solid fa-circle-user"></i>
      <strong>Mesero: David</strong>
    </div>
    <!--Boton para cerrar sesion-->
    <button class="cerrar-sesion">
      <i class="fa-solid fa-right-from-bracket"></i>
      Cerrar Sesión
    </button>
  </header>

  <div class="cuadro-notificaciones" id="cuadroNotificaciones">
    <div class="encabezado-notificaciones">
      <span>Notificaciones</span>
      <button id="limpiarBtn">Limpiar Todo</button>
    </div>
    <div class="lista-notificaciones">
      <!-- Aquí puedes insertar notificaciones con PHP o JS -->
      <div class="notificacion alta no-leida">
        <i class="fa-solid fa-circle-exclamation"></i>
        Tienes una queja pendiente <br><small>hace 5 min</small>
      </div>
      <hr>
      <div class="notificacion media no-leida">
        <i class="fa-solid fa-bell"></i>
        Te están llamando en la <strong>Mesa 3</strong><br><small>hace 3 min</small>
      </div>
      <hr>
      <div class="notificacion baja no-leida">
        <i class="fa-solid fa-circle-check"></i>
        Orden <strong>Mesa 4</strong> lista para servir <br><small>hace 1 min</small>
      </div>
    </div>
  </div>

  <!-- PANEL SUPERIOR -->
  <section class="paneles-superiores">
    <div class="panel">
      <strong>Estrés</strong>
      <div class="barra">
        <div style="width: 18%"></div>
      </div> <span>18%</span>
    </div>
    <div class="panel">
      <strong>Energía </strong>
      <div class="barra">
        <div style="width: 33%"></div>
      </div>
      <span>33%</span>
    </div>
    <div class="panel">
      <strong>Eficiencia</strong>
      <div class="barra">
        <div style="width: 70%"></div>
      </div> <span>70%</span>
    </div>
    <div class="panel">
      <strong>Propinas</strong>
      <div class="barra" style="background: none;"></div>
      <span><strong>$34.34</strong></span>
    </div>
  </section>


  <!-- NAV SECUNDARIO -->
  <nav class="nav-secundario">
    <a href="Mesas.html"><i class="fas fa-chair" style="color: #6b30ff;"></i> Mis mesas</a>
    <a href="Tareas.html"><i class="fas fa-tasks" style="color: #6b30ff;"></i> Tareas</a>
    <a href="Cocina.html"><i class="fas fa-utensils" style="color: #6b30ff;"></i> Cocina</a>
    <a href="Comunicacion.html"><i class="fas fa-comments" style="color: #6b30ff;"></i> Comunicación</a>
    <a href="Persona.html"><i class="fas fa-user" style="color: #6b30ff;"></i> Persona</a>
  </nav>



  <!-- CONTENIDO PRINCIPAL -->
  <main class="contenido">
    <!-- Espacio para mesas (luego) -->
    <div class="contenedor-principal">
      <div class="contenedor-Cuidado">
        <H2>Cuidado Personal</H2>
        <!-- Aqui va a hacer 4 botones, Descanso, Tomar Agua, Comer Algo, Ir a Casa-->
        <div class="botones-cuidado">
          <button class="btn-cuidado" style="background-color: #636AE8;"><i class="fa-solid fa-clock"></i>
            Descanso</button>
          <button class="btn-cuidado" style="background-color: #636AE8;"><i class="fa-solid fa-glass-water"></i> Tomar
            Agua</button>
          <button class="btn-cuidado" style="background-color: #636AE8;"><i class="fa-solid fa-bowl-food"></i> Comer
            Algo</button>
          <button class="btn-cuidado" style="background-color: #967ED5;"><i class="fa-solid fa-house"></i> Ir a
            Casa</button>
        </div>
      </div>
      <div class="contenedor-Emergencia">
        <h2>Emergencia</h2>
        <!-- Aqui va a hacer 3 botones, Reportar Enfermedad, Solicitar Refuerzos, Renunciar al Trabajo-->
        <div class="botones-emergencia">
          <button class="btn-emergencia" style="background-color: #e9c89a;"><i class="fa-solid fa-virus"></i> Reportar
            Enfermedad</button>
          <button class="btn-emergencia" style="background-color: #e9c89a;"><i class="fa-solid fa-users"></i> Solicitar
            Refuerzos</button>
          <button class="btn-emergencia btn-ancho-completo" style="background-color: #ff4d4d;"><i
              class=" fa-solid fa-door-open"></i> Renunciar al Trabajo</button>
        </div>
      </div>
    </div>

    <!-- Resumen -->
    <aside class="resumen">
      <h3>Resumen del Turno</h3>
      <div class="dato-resumen">
        <span>Propinas</span>
        <strong style="color: #7543f5;">$ 34.34</strong>
      </div>
      <div class="dato-resumen">
        <span>Tareas Completadas</span>
        <strong style="color: #7543f5;">11</strong>
      </div>
      <div class="dato-resumen">
        <span>Horas Trabajadas</span>
        <strong style="color: #7543f5;">14.3</strong>
      </div>
      <div class="dato-resumen">
        <span>Nivel Estrés</span>
        <strong style="color: #7543f5;">18%</strong>
      </div>
    </aside>

  </main>

  <script src="script.js"></script>
  <script>
    // Script para manejar las notificaciones
    // Elementos
    const campanaBtn = document.querySelector('.notificaciones');
    const cuadro = document.getElementById('cuadroNotificaciones');
    const limpiarBtn = document.getElementById('limpiarBtn');
    const textoNotificacion = document.querySelector('.texto-notificacion');
    const listaNotificaciones = document.querySelector('.lista-notificaciones');

    // Mostrar/ocultar el cuadro y marcar como leídas
    campanaBtn.addEventListener('click', () => {
      const estaVisible = cuadro.style.display === 'flex';

      if (!estaVisible) {
        // Mostrar cuadro
        cuadro.style.display = 'flex';

        // Marcar como leídas las que no lo están
        const notificacionesNoLeidas = listaNotificaciones.querySelectorAll('.notificacion.no-leida');
        notificacionesNoLeidas.forEach(n => {
          n.classList.remove('no-leida');
          n.classList.add('leida');
        });

        // Actualizar estado del botón
        actualizarTextoNotificacion();
      } else {
        // Ocultar cuadro
        cuadro.style.display = 'none';
      }
    });

    // Limpiar todas las notificaciones
    limpiarBtn.addEventListener('click', () => {
      listaNotificaciones.innerHTML = '<p style="text-align:center; color: gray;">Sin notificaciones</p>';
      actualizarTextoNotificacion();
    });

    // Ocultar el cuadro al hacer clic fuera
    document.addEventListener('click', (e) => {
      if (!cuadro.contains(e.target) && !campanaBtn.contains(e.target)) {
        cuadro.style.display = 'none';
      }
    });

    // Mostrar u ocultar el texto del botón según haya no leídas
    function actualizarTextoNotificacion() {
      const hayPendientes = listaNotificaciones.querySelectorAll('.notificacion.no-leida').length > 0;
      textoNotificacion.style.display = hayPendientes ? 'inline' : 'none';
    }

    // Ejecutar al cargar
    actualizarTextoNotificacion();

  </script>


</body>

</html>